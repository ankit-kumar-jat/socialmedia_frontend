(this.webpackJsonplinkbook=this.webpackJsonplinkbook||[]).push([[15],{236:function(e,a,s){"use strict";s.r(a);var r=s(222),t=s.n(r),n=s(223),i=s(45),o=s(12),c=s(19),l=s(0),d=s.n(l),j=s(15),m=s(18),u=s(187),b=s(215),h=s(68),w=s(190),O=s(208),p=s(189),f=s(224),x=s(184),g=s(192),v=s(194),P=s(195),y=s(227),C=s(181),k=s(213),E=s.n(k),N=s(214),S=s.n(N),A=s(226),R=s.n(A),U=s(225),W=s.n(U),D=s(94),F=s.n(D),T=s(4),J=s(39),L=s(72),M=s(33),q=s(2),z=Object(C.a)((function(e){return{margin:{marginTop:e.spacing(3)},relative:{position:"relative"},progressbar:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));a.default=function(){var e=z(),a=d.a.useState({username:"",email:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1}),s=Object(c.a)(a,2),r=s[0],l=s[1],C=d.a.useState({username:!1,email:!1,password:!1,confirmPassword:!1}),k=Object(c.a)(C,2),N=k[0],A=k[1],U=d.a.useState({submit:!1}),D=Object(c.a)(U,2),B=D[0],G=D[1],V=Object(J.b)().enqueueSnackbar,H=Object(j.g)(),I=function(e){return function(a){l(Object(o.a)(Object(o.a)({},r),{},Object(i.a)({},e,a.target.value))),"email"===e?A({email:!Object(L.validateEmail)(a.target.value)}):"password"===e?A({password:!Object(L.validatePassword)(a.target.value)}):"username"===e?A({username:!Object(L.validateUsername)(a.target.value)}):"confirmPassword"===e&&A({confirmPassword:a.target.value!==r.password})}},K=function(e){e.preventDefault()},Q=function(){var e=Object(n.a)(t.a.mark((function e(a){var s;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N.email||N.password||!r.username||!r.password||!r.email||!r.confirmPassword){e.next=8;break}return G({submit:!0}),s={username:r.username,email:r.email,password:r.password,confirmPassword:r.confirmPassword},e.next=6,fetch("".concat(M.SERVER,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){if(e.success){V("Registered successfully!",{variant:"success"}),H.push("/login")}else{V(e.message,{variant:"error"}),G({submit:!1})}})).catch((function(e){V("Registration failed!",{variant:"error"}),G({submit:!1}),console.error("Error:",e)}));case 6:e.next=9;break;case 8:V("Username, Email and Password should be valid.",{variant:"warning"});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(q.jsx)(d.a.Fragment,{children:Object(q.jsx)(u.a,{maxWidth:"xs",disableGutters:!0,children:Object(q.jsx)(b.a,{mt:5,children:Object(q.jsxs)("form",{onSubmit:Q,children:[Object(q.jsx)(h.a,{variant:"h4",color:"initial",children:"Register"}),Object(q.jsx)(h.a,{variant:"body1",color:"inherit",children:"to manage your account on LinkBook"}),Object(q.jsxs)(b.a,{mt:2,children:[Object(q.jsxs)(w.a,{fullWidth:!0,className:e.margin,error:N.username,children:[Object(q.jsx)(O.a,{htmlFor:"userUsername",children:"Username"}),Object(q.jsx)(p.a,{id:"userUsername",type:"text",value:r.username,onChange:I("username"),startAdornment:Object(q.jsx)(f.a,{position:"start",children:Object(q.jsx)(F.a,{})})})]}),Object(q.jsxs)(w.a,{fullWidth:!0,className:e.margin,error:N.email,children:[Object(q.jsx)(O.a,{htmlFor:"userEmail",children:"Email"}),Object(q.jsx)(p.a,{id:"userEmail",type:"email",value:r.email,onChange:I("email"),startAdornment:Object(q.jsx)(f.a,{position:"start",children:Object(q.jsx)(W.a,{})})})]}),Object(q.jsxs)(w.a,{fullWidth:!0,className:e.margin,error:N.password,children:[Object(q.jsx)(O.a,{htmlFor:"userPassword",children:"Password"}),Object(q.jsx)(p.a,{id:"userPassword",type:r.showPassword?"text":"password",value:r.password,onChange:I("password"),startAdornment:Object(q.jsx)(f.a,{position:"start",children:Object(q.jsx)(R.a,{})}),endAdornment:Object(q.jsx)(f.a,{position:"end",children:Object(q.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(o.a)(Object(o.a)({},r),{},{showPassword:!r.showPassword}))},onMouseDown:K,children:r.showPassword?Object(q.jsx)(E.a,{}):Object(q.jsx)(S.a,{})})})}),Object(q.jsx)(g.a,{children:"Use 8 or more characters with a mix of letters, numbers & symbols"})]}),Object(q.jsxs)(w.a,{fullWidth:!0,className:e.margin,error:N.confirmPassword,children:[Object(q.jsx)(O.a,{htmlFor:"userConfirmPassword",children:"Confirm Password"}),Object(q.jsx)(p.a,{id:"userConfirmPassword",type:r.showConfirmPassword?"text":"password",value:r.confirmPassword,onChange:I("confirmPassword"),startAdornment:Object(q.jsx)(f.a,{position:"start",children:Object(q.jsx)(R.a,{})}),endAdornment:Object(q.jsx)(f.a,{position:"end",children:Object(q.jsx)(x.a,{"aria-label":"toggle confirm password visibility",onClick:function(){l(Object(o.a)(Object(o.a)({},r),{},{showConfirmPassword:!r.showConfirmPassword}))},onMouseDown:K,children:r.showConfirmPassword?Object(q.jsx)(E.a,{}):Object(q.jsx)(S.a,{})})})})]}),Object(q.jsxs)(w.a,{fullWidth:!0,className:Object(T.a)(e.margin,e.relative),children:[Object(q.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",disabled:B.submit,children:"Register"}),B.submit&&Object(q.jsx)(P.a,{size:24,className:e.progressbar})]}),Object(q.jsxs)(h.a,{variant:"subtitle1",color:"initial",className:e.margin,align:"center",children:["Do you have an account? ",Object(q.jsx)(y.a,{color:"primary",component:m.b,to:"/login",children:"Login"})]})]})]})})})})}}}]);
//# sourceMappingURL=15.fa28f995.chunk.js.map