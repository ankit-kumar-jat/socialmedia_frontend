(this.webpackJsonplinkbook=this.webpackJsonplinkbook||[]).push([[14],{235:function(e,a,t){"use strict";t.r(a);var s=t(222),r=t.n(s),n=t(223),i=t(45),o=t(12),c=t(19),l=t(0),d=t.n(l),j=t(18),b=t(187),u=t(215),m=t(68),h=t(190),p=t(208),O=t(189),w=t(224),x=t(184),g=t(227),f=t(194),v=t(195),y=t(181),k=t(213),P=t.n(k),N=t(214),E=t.n(N),S=t(226),L=t.n(S),C=t(225),D=t.n(C),F=t(34),T=t(4),W=t(72),A=t(39),I=t(33),J=t(2),G=Object(y.a)((function(e){return{margin:{marginTop:e.spacing(3)},relative:{position:"relative"},progressbar:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));a.default=function(){var e=G(),a=d.a.useState({email:"",password:"",showPassword:!1}),t=Object(c.a)(a,2),s=t[0],l=t[1],y=d.a.useState({email:!1,password:!1}),k=Object(c.a)(y,2),N=k[0],S=k[1],C=d.a.useState({submit:!1}),R=Object(c.a)(C,2),q=R[0],z=R[1],B=Object(A.b)().enqueueSnackbar,M=d.a.useContext(F.a).authDispatch,V=function(e){return function(a){l(Object(o.a)(Object(o.a)({},s),{},Object(i.a)({},e,a.target.value))),"email"===e?S({email:!Object(W.validateEmail)(a.target.value)}):"password"===e&&S({password:!Object(W.validatePassword)(a.target.value)})}},Y=function(){var e=Object(n.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N.email||N.password||!s.password||!s.email){e.next=8;break}return z({submit:!0}),t={email:s.email,password:s.password},e.next=6,fetch("".concat(I.SERVER,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.success?(B("Login successfully!",{variant:"success"}),M({type:"LOGIN",payload:e})):(B(e.message,{variant:"error"}),z({submit:!1}))})).catch((function(e){B("Login failed!",{variant:"error"}),z({submit:!1}),console.error("Error:",e)}));case 6:e.next=9;break;case 8:B("Email and Password should be valid.",{variant:"warning"});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(J.jsx)(d.a.Fragment,{children:Object(J.jsx)(b.a,{maxWidth:"xs",disableGutters:!0,children:Object(J.jsx)(u.a,{mt:5,children:Object(J.jsxs)("form",{onSubmit:Y,children:[Object(J.jsx)(m.a,{variant:"h4",color:"initial",children:"Log In"}),Object(J.jsx)(m.a,{variant:"body1",color:"inherit",children:"with your LinkBook account"}),Object(J.jsxs)(u.a,{mt:2,children:[Object(J.jsxs)(h.a,{fullWidth:!0,className:e.margin,error:N.email,children:[Object(J.jsx)(p.a,{htmlFor:"userEmail",children:"Email"}),Object(J.jsx)(O.a,{id:"userEmail",type:"email",value:s.email,onChange:V("email"),startAdornment:Object(J.jsx)(w.a,{position:"start",children:Object(J.jsx)(D.a,{})})})]}),Object(J.jsxs)(h.a,{fullWidth:!0,className:e.margin,error:N.password,children:[Object(J.jsx)(p.a,{htmlFor:"userPassword",children:"Password"}),Object(J.jsx)(O.a,{id:"userPassword",type:s.showPassword?"text":"password",value:s.password,onChange:V("password"),startAdornment:Object(J.jsx)(w.a,{position:"start",children:Object(J.jsx)(L.a,{})}),endAdornment:Object(J.jsx)(w.a,{position:"end",children:Object(J.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(o.a)(Object(o.a)({},s),{},{showPassword:!s.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:s.showPassword?Object(J.jsx)(P.a,{}):Object(J.jsx)(E.a,{})})})})]}),Object(J.jsx)(h.a,{className:e.margin,children:Object(J.jsx)(g.a,{component:j.b,to:"/forgetpass",color:"primary",children:"Forgot Your Password?"})}),Object(J.jsxs)(h.a,{fullWidth:!0,className:Object(T.a)(e.margin,e.relative),children:[Object(J.jsx)(f.a,{variant:"contained",color:"primary",disabled:q.submit,type:"submit",children:"Log In"}),q.submit&&Object(J.jsx)(v.a,{size:24,className:e.progressbar})]}),Object(J.jsxs)(m.a,{variant:"subtitle1",color:"initial",className:e.margin,align:"center",children:["Not registered? ",Object(J.jsx)(g.a,{component:j.b,to:"/register",color:"primary",children:"Create a account"})]})]})]})})})})}}}]);
//# sourceMappingURL=14.3c330976.chunk.js.map